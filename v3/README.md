# Employee Database API (FastAPI + SQLite)

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º FastAPI –∏ SQLite. –í–∞—Ä–∏–∞–Ω—Ç, –∫–æ–≥–¥–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å –±–∞–∑–æ–π –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –∫–∞–∂–¥—ã–π –Ω–∞ —Å–≤–æ—ë–º —Ä–∞–±–æ—á–µ–º –º–µ—Å—Ç–µ –∏ –Ω–µ –∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –¥—Ä—É–≥–∏—Ö, –∞ —Ç–∞–∫ –∂–µ –∏ —É–¥–∞–ª—ë–Ω–Ω–æ.  

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ  
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —á–µ—Ä–µ–∑ JSON API  
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π —Å —Ä–∞—Å—á–µ—Ç–æ–º –≤–æ–∑—Ä–∞—Å—Ç–∞  
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (1M+ –∑–∞–ø–∏—Å–µ–π)  
- –ü–æ–∏—Å–∫ –º—É–∂—á–∏–Ω —Å —Ñ–∞–º–∏–ª–∏–µ–π –Ω–∞ "F"  
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ë–î —Å –∑–∞–º–µ—Ä–∞–º–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è  
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö  
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Swagger –∏ ReDoc  

## ‚öôÔ∏è –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞):
```bash
pip install fastapi uvicorn aiosqlite
```

## üöÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```
–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://127.0.0.1:8000


## üìä –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:  
Swagger UI: http://127.0.0.1:8000/docs  
ReDoc: http://127.0.0.1:8000/redoc  


## üìö API Endpoints
–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç                       | –û–ø–∏—Å–∞–Ω–∏–µ                       |
|-------|--------------------------------|--------------------------------|
| GET   | /                              | –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é API               |
| GET   | /employees/                    | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤      |
| POST  | /employees/                    | –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞     |
| POST  | /employees/generate-test-data/ | –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ  |
| GET   | /employees/male-f/             | –ù–∞–π—Ç–∏ –º—É–∂—á–∏–Ω —Å —Ñ–∞–º–∏–ª–∏–µ–π –Ω–∞ "F" |
| POST  | /employees/optimize/           | –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ë–î              |


## üìå –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:
```bash
curl -X POST "http://127.0.0.1:8000/employees/" \
     -H "Content-Type: application/json" \
     -d '{"full_name": "Ivanov Ivan", "birth_date": "1990-05-15", "gender": "M"}'
```

2. –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:
```bash
curl "http://127.0.0.1:8000/employees/"
```

3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
```bash
curl -X POST "http://127.0.0.1:8000/employees/generate-test-data/?count=1000000&special=100"
```

4. –ü–æ–∏—Å–∫ –º—É–∂—á–∏–Ω –Ω–∞ "F":
```bash
curl "http://127.0.0.1:8000/employees/male-f/"
```

5. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ë–î:
```bash
curl -X POST "http://127.0.0.1:8000/employees/optimize/"
```

## üñ•Ô∏è –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç—ã —Å API –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω CLI –∫–ª–∏–µ–Ω—Ç.  
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞):  
```bash
pip install requests
```
–ó–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞:  
```bash
python client.py
```
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ –º–µ–Ω—é:
```text
=== Employee Database ===  
1. –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)  
2. –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞  
3. –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤  
4. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ  
5. –ù–∞–π—Ç–∏ –º—É–∂—á–∏–Ω —Å —Ñ–∞–º–∏–ª–∏–µ–π –Ω–∞ F  
6. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑—ã  
0. –í—ã—Ö–æ–¥  
========================  
```


## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```text
employee-api/
‚îú‚îÄ‚îÄ main.py               # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ client.py             # CLI –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ employees.db          # –§–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö SQLite
‚îú‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ requirements.txt      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```


## üîÑ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
**–î–ª—è production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**  
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Gunicorn + Uvicorn workers  
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL –≤–º–µ—Å—Ç–æ SQLite  
–î–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é  

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ –≤ production:**  
```bash
gunicorn -w 4 -k uvicorn.workers.UvicornWorker -b 0.0.0.0:80 --timeout 120 main:app
```


## üåü Production —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PostgreSQL –≤–º–µ—Å—Ç–æ SQLite  
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é  
3. –í–∫–ª—é—á–∏—Ç–µ HTTPS  
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã  


## üåü –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã
‚úîÔ∏è –ù–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–æ–ø–∏–π –±–∞–∑—ã - –∑–∞—â–∏—Ç–∞ –æ—Ç —É—Ç–µ—á–µ–∫  
‚úîÔ∏è –†–∞–±–æ—Ç–∞ –∏–∑ –¥–æ–º–∞, –æ—Ñ–∏—Å–∞ –∏–ª–∏ –≤ –¥–æ—Ä–æ–≥–µ  
‚úîÔ∏è –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏  
‚úîÔ∏è –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –∞—É–¥–∏—Ç–∞  
‚úîÔ∏è –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ  


## üìå –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
–ü–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞  
–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Pydantic  
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è OpenAPI  
–ü—Ä–æ—Å—Ç–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫  


## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

```mermaid
graph TD
    A[–û—Ñ–∏—Å–Ω—ã–µ –ü–ö] -->|HTTPS| B[API –°–µ—Ä–≤–µ—Ä]
    C[–î–æ–º–∞—à–Ω–∏–µ –ü–ö] -->|VPN| B
    D[–ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞] -->|TLS| B
    B -->|–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π| E[(SQLite)]
    B -->|–¥–æ—Å—Ç—É–ø| E
```
