# Employee Database Management (SQLite/PostgreSQL)

Универсальная система управления базой данных сотрудников с поддержкой SQLite и PostgreSQL. Расширенная версия с новыми возможностями поиска и оптимизации.

## 📋 Возможности

- Создание таблицы сотрудников
- Добавление новых сотрудников (одиночное и пакетное)
- Просмотр всех сотрудников с расчетом возраста
- Генерация тестовых данных (1M+ записей + 100 спецзаписей)
- Поиск по полу и начальным буквам фамилии
- Оптимизация БД с замером производительности
- Два режима работы: интерактивный и CLI
- Поддержка SQLite и PostgreSQL

## ⚙️ Зависимости

Убедитесь, что установлены все зависимости:
```bash
pip install -r requirements.txt
```

## 🚀 Запуск
```bash
python app.py [режим] [аргументы]
```

## 🔧 Режимы работы
Интерактивный режим (по умолчанию)
```bash
python app.py
```
или
```bash
python app.py 0
```
Отображает меню:
```text
=== Employee Database ===
1. Создать таблицу
2. Добавить сотрудника
3. Показать всех сотрудников
4. Сгенерировать тестовые данные
5. Найти мужчин с фамилией на F
6. Оптимизировать БД
7. Универсальный поиск
0. Выход
========================
```

**Командный режим**  

| Команда | Аргументы           | Пример                              | Описание                      |
|---------|---------------------|-------------------------------------|-------------------------------|
| 1       | -                   | app.py 1                            | Создает таблицу сотрудников   |
| 2       | ФИО, Дата, Пол      | app.py 2 "Ivanov Ivan" 1990-05-15 M | Добавляет сотрудника          |
| 3       | -                   | app.py 3                            | Показывает всех сотрудников   |
| 4       | -                   | app.py 4                            | Генерирует тестовые данные    |
| 5       | -                   | app.py 5                            | Ищет мужчин с фамилией на "F" |
| 6       | -                   | app.py 6                            | Оптимизирует БД               |
| 7       | Пол (1/2), Буква(ы) | app.py 7 2 Sm                       | Универсальный поиск           |

## 🛠️ Технические детали
**Базы данных:**  
  * SQLite (по умолчанию, файл employees.db)  
  * PostgreSQL (при настройке в .env)  
**Автоматическое создание таблиц:** При первом обращении  
**Форматы данных:**  
  * Дата: YYYY-MM-DD  
  * Пол: 1/M/Male или 2/F/Female  
**Оптимизация:**  
  * Создание индексов  
  * Замер производительности до/после  


## 📊 Примеры использования
Создать таблицу и добавить сотрудника:
```bash
python app.py 1
python app.py 2 "Petrov Petr" 1985-10-21 M
```
Универсальный поиск женщин на "S":
```bash
python app.py 7 2 S
```
Оптимизация и тест производительности:
```bash
python app.py 6
```
Генерация данных и поиск в интерактивном режиме:
```bash
python app.py
> 4  # Генерация данных
> 7  # Универсальный поиск
> 1  # Мужчины
> Joh  # Фамилии на Joh
```

## 📁 Структура проекта
```text
employee-db-manager/
├── core/
│   ├── __init__.py
│   ├── config.py        # Конфигурация
│   └── logging.py       # Логирование
│   ├── manager.py       # Бизнес-логика
├── database/
│   ├── __init__.py
│   ├── database.py      # Работа с БД
│   └── models.py        # Модели данных
├── cli/
│   ├── __init__.py
│   └── interface.py     # Интерфейс пользователя
├── app.py               # Точка входа
├── employees.db         # Файл БД SQLite
├── .env.example         # Пример конфигурации
└── requirements.txt     # Зависимости
```
  

## 🔖 Ключевые изменения:
1. Добавлен новый режим 7 (универсальный поиск)
2. Обновлена структура проекта
3. Добавлены зависимости и инструкции по настройке
4. Улучшено описание возможностей
5. Добавлены примеры использования нового функционала
6. Указана поддержка PostgreSQL
7. Обновлены таблицы команд и режимов работы
